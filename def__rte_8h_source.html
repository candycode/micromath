<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MicroMath+: def_rte.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MicroMath+
   &#160;<span id="projectnumber">2.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">def_rte.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="def__rte_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef DEF_RTE_H__ </span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define DEF_RTE_H__</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="comment">// MicroMath+ - (c) Ugo Varetto</span>
<a name="l00005"></a>00005 
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;exception&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="execution_8h.html" title="declaration and definition of execution-related types and functions.">execution.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="adaptors_8h.html" title="definition of helper functions to adapt standard functions to function&lt; T &gt;_i derived function object...">adaptors.h</a>&quot;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="shared__ptr_8h.html" title="implementation of reference counted pointer">shared_ptr.h</a>&quot;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#ifdef MMP_DEBUG_MEMORY</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="dbgnew_8h.html" title="overloaded new &amp; delete operators used to tace memory allocation in conjunction with MemTracer class...">dbgnew.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#define new new( __FILE__, __LINE__, __FUNCTION__ )</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="comment">//==============================================================================</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keyword">namespace </span>mmath_plus {
<a name="l00025"></a>00025 
<a name="l00026"></a>00026   <span class="comment">//============================================================================</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028   <span class="keyword">using</span> std::abs;  <span class="keyword">using</span> std::acos;  <span class="keyword">using</span> std::asin;
<a name="l00029"></a>00029   <span class="keyword">using</span> std::atan; <span class="keyword">using</span> std::atan2; <span class="keyword">using</span> std::ceil;
<a name="l00030"></a>00030   <span class="keyword">using</span> std::cos;  <span class="keyword">using</span> std::cosh;  <span class="keyword">using</span> std::exp;
<a name="l00031"></a>00031   <span class="keyword">using</span> std::fabs; <span class="keyword">using</span> std::floor; <span class="keyword">using</span> std::fmod;
<a name="l00032"></a>00032   <span class="keyword">using</span> std::log;  <span class="keyword">using</span> std::log10; <span class="keyword">using</span> std::pow;
<a name="l00033"></a>00033   <span class="keyword">using</span> std::sin;  <span class="keyword">using</span> std::sinh;  <span class="keyword">using</span> std::sqrt;
<a name="l00034"></a>00034   <span class="keyword">using</span> std::tan;  <span class="keyword">using</span> std::tanh;
<a name="l00035"></a>00035 
<a name="l00036"></a>00036   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00038"></a>00038 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00039"></a><a class="code" href="structmmath__plus_1_1unary__function__t.html">00039</a>   <span class="keyword">struct </span><a class="code" href="structmmath__plus_1_1unary__function__t.html" title="Unary function object.">unary_function_t</a> {
<a name="l00040"></a><a class="code" href="structmmath__plus_1_1unary__function__t.html#aee09f8b9694b8755d58d76f9296575cc">00040</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structmmath__plus_1_1unary__function__t.html#aee09f8b9694b8755d58d76f9296575cc" title="Function name.">name</a>; 
<a name="l00041"></a><a class="code" href="structmmath__plus_1_1unary__function__t.html#acffce78128f8c8b604027fd51e7d73c9">00041</a>     T (*<a class="code" href="structmmath__plus_1_1unary__function__t.html#acffce78128f8c8b604027fd51e7d73c9" title="Function pointer.">f</a>)( T );      
<a name="l00042"></a><a class="code" href="structmmath__plus_1_1unary__function__t.html#ae483cbdb0b45469c59ebb0b9b66f46ec">00042</a>     <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structmmath__plus_1_1unary__function__t.html#ae483cbdb0b45469c59ebb0b9b66f46ec" title="Number of parameters on the left side.">left_params</a>; 
<a name="l00043"></a>00043   };
<a name="l00044"></a>00044 
<a name="l00046"></a>00046   <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00047"></a><a class="code" href="structmmath__plus_1_1binary__function__t.html">00047</a>   <span class="keyword">struct </span><a class="code" href="structmmath__plus_1_1binary__function__t.html" title="Binary function object.">binary_function_t</a> {
<a name="l00048"></a><a class="code" href="structmmath__plus_1_1binary__function__t.html#ae4855aceeb52dea29257374fb7633562">00048</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structmmath__plus_1_1binary__function__t.html#ae4855aceeb52dea29257374fb7633562" title="Function name.">name</a>; 
<a name="l00049"></a><a class="code" href="structmmath__plus_1_1binary__function__t.html#a17f8f11284a3f22526b8ed233cde18ab">00049</a>     T (*<a class="code" href="structmmath__plus_1_1binary__function__t.html#a17f8f11284a3f22526b8ed233cde18ab" title="Function pointer.">f</a>)( T, T );   
<a name="l00050"></a><a class="code" href="structmmath__plus_1_1binary__function__t.html#aa33b3ae27519962c4710170875ba27dc">00050</a>     <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="structmmath__plus_1_1binary__function__t.html#aa33b3ae27519962c4710170875ba27dc" title="Number of parameters on the left side.">left_params</a>; 
<a name="l00051"></a>00051   };
<a name="l00052"></a>00052 
<a name="l00054"></a>00054   <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00055"></a><a class="code" href="structmmath__plus_1_1value__t.html">00055</a>   <span class="keyword">struct </span><a class="code" href="structmmath__plus_1_1value__t.html" title="Value type.">value_t</a> {
<a name="l00056"></a><a class="code" href="structmmath__plus_1_1value__t.html#a82878215d3c6933f1e65a87cdc5d559b">00056</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structmmath__plus_1_1value__t.html#a82878215d3c6933f1e65a87cdc5d559b" title="Value name.">name</a>; 
<a name="l00057"></a><a class="code" href="structmmath__plus_1_1value__t.html#a19cdc30d17f01d4fdd6b30e356b78a6d">00057</a>     T <a class="code" href="structmmath__plus_1_1value__t.html#a19cdc30d17f01d4fdd6b30e356b78a6d" title="Value data.">val</a>; 
<a name="l00058"></a>00058   };
<a name="l00059"></a>00059 
<a name="l00060"></a>00060   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00062"></a><a class="code" href="namespacemmath__plus.html#a8203e9d1b4264a9b4e9992c3f144e155">00062</a> <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt; T <a class="code" href="namespacemmath__plus.html#a8203e9d1b4264a9b4e9992c3f144e155" title="Negate.">neg</a>( T v ) { <span class="keywordflow">return</span> - v;  }
<a name="l00064"></a><a class="code" href="namespacemmath__plus.html#ad5f7c76f7efe3db7019b20a1fc30b2e5">00064</a>   <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt; T <a class="code" href="namespacemmath__plus.html#ad5f7c76f7efe3db7019b20a1fc30b2e5" title="Inverse.">inv</a>( T v ) { <span class="keywordflow">return</span> 1 / v; }
<a name="l00065"></a>00065 
<a name="l00067"></a><a class="code" href="namespacemmath__plus.html#afa4180d4cbee185b5cbfa93e7bbfff00">00067</a>   <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt; T <a class="code" href="namespacemmath__plus.html#afa4180d4cbee185b5cbfa93e7bbfff00" title="Add.">add</a>( T v1, T v2) { <span class="keywordflow">return</span> v1 + v2; }
<a name="l00069"></a><a class="code" href="namespacemmath__plus.html#a3303646c8e8705b039286b58c22a8a1c">00069</a>   <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt; T <a class="code" href="namespacemmath__plus.html#a3303646c8e8705b039286b58c22a8a1c" title="Subtract.">sub</a>( T v1, T v2) { <span class="keywordflow">return</span> v1 - v2; }
<a name="l00071"></a><a class="code" href="namespacemmath__plus.html#acb1d3fd25d69d5ba476a5a7be04d13a1">00071</a>   <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt; T <a class="code" href="namespacemmath__plus.html#acb1d3fd25d69d5ba476a5a7be04d13a1" title="Multiply.">mul</a>( T v1, T v2) { <span class="keywordflow">return</span> v1 * v2; }
<a name="l00073"></a><a class="code" href="namespacemmath__plus.html#aa23f9350bbcb6b0adc724e4a09c020df">00073</a>   <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt; T <a class="code" href="namespacemmath__plus.html#aa23f9350bbcb6b0adc724e4a09c020df" title="Divide.">div</a>( T v1, T v2) { <span class="keywordflow">return</span> v1 / v2; }
<a name="l00074"></a>00074 
<a name="l00076"></a><a class="code" href="namespacemmath__plus.html#a00f953529e148a6c2433d0c0bebd58d1">00076</a>   <a class="code" href="structmmath__plus_1_1unary__function__t.html" title="Unary function object.">unary_function_t&lt; double &gt;</a> <a class="code" href="namespacemmath__plus.html#a00f953529e148a6c2433d0c0bebd58d1" title="Default unary function table.">unary_functions</a>[] =
<a name="l00077"></a>00077   {
<a name="l00078"></a>00078     { <span class="stringliteral">&quot;abs&quot;</span>,   fabs,  0 }, { <span class="stringliteral">&quot;acos&quot;</span>, acos, 0 }, { <span class="stringliteral">&quot;asin&quot;</span>,  asin,  0 }, { <span class="stringliteral">&quot;atan&quot;</span>, atan, 0 },
<a name="l00079"></a>00079     { <span class="stringliteral">&quot;ceil&quot;</span>,  ceil,  0 }, { <span class="stringliteral">&quot;cos&quot;</span>,  cos,  0 }, { <span class="stringliteral">&quot;cosh&quot;</span>,  cosh,  0 }, { <span class="stringliteral">&quot;exp&quot;</span>,  exp,  0 },
<a name="l00080"></a>00080     { <span class="stringliteral">&quot;floor&quot;</span>, floor, 0 }, { <span class="stringliteral">&quot;log&quot;</span>,  log,  0 }, { <span class="stringliteral">&quot;log10&quot;</span>, log10, 0 }, { <span class="stringliteral">&quot;sin&quot;</span>,  sin,  0 },
<a name="l00081"></a>00081     { <span class="stringliteral">&quot;sinh&quot;</span>,  sinh,  0 }, { <span class="stringliteral">&quot;sqrt&quot;</span>, sqrt, 0 }, { <span class="stringliteral">&quot;tan&quot;</span>,   tan,   0 }, { <span class="stringliteral">&quot;inv&quot;</span>,  <a class="code" href="namespacemmath__plus.html#ad5f7c76f7efe3db7019b20a1fc30b2e5" title="Inverse.">inv</a>,  0 },
<a name="l00082"></a>00082     { <span class="stringliteral">&quot;-&quot;</span>,     <a class="code" href="namespacemmath__plus.html#a8203e9d1b4264a9b4e9992c3f144e155" title="Negate.">neg</a>,   1 }
<a name="l00083"></a>00083   };
<a name="l00084"></a>00084 
<a name="l00086"></a><a class="code" href="namespacemmath__plus.html#a05eb445d8512ec21854003ae1fb126f1">00086</a>   <a class="code" href="structmmath__plus_1_1binary__function__t.html" title="Binary function object.">binary_function_t&lt; double &gt;</a> <a class="code" href="namespacemmath__plus.html#a05eb445d8512ec21854003ae1fb126f1" title="Default binary function table.">binary_functions</a>[] =
<a name="l00087"></a>00087   {
<a name="l00088"></a>00088     { <span class="stringliteral">&quot;^&quot;</span>,   pow, 1 }, { <span class="stringliteral">&quot;*&quot;</span>,     <a class="code" href="namespacemmath__plus.html#acb1d3fd25d69d5ba476a5a7be04d13a1" title="Multiply.">mul</a>,   1 }, { <span class="stringliteral">&quot;/&quot;</span>, <a class="code" href="namespacemmath__plus.html#aa23f9350bbcb6b0adc724e4a09c020df" title="Divide.">div</a>, 1 },   { <span class="stringliteral">&quot;+&quot;</span>, <a class="code" href="namespacemmath__plus.html#afa4180d4cbee185b5cbfa93e7bbfff00" title="Add.">add</a>, 1 },
<a name="l00089"></a>00089     { <span class="stringliteral">&quot;-&quot;</span>,   <a class="code" href="namespacemmath__plus.html#a3303646c8e8705b039286b58c22a8a1c" title="Subtract.">sub</a>, 1 }, { <span class="stringliteral">&quot;%&quot;</span>,     fmod,  1 },
<a name="l00090"></a>00090     { <span class="stringliteral">&quot;add&quot;</span>, <a class="code" href="namespacemmath__plus.html#afa4180d4cbee185b5cbfa93e7bbfff00" title="Add.">add</a>, 0 }, { <span class="stringliteral">&quot;sub&quot;</span>,   <a class="code" href="namespacemmath__plus.html#a3303646c8e8705b039286b58c22a8a1c" title="Subtract.">sub</a>,   0 }, { <span class="stringliteral">&quot;div&quot;</span>, <a class="code" href="namespacemmath__plus.html#aa23f9350bbcb6b0adc724e4a09c020df" title="Divide.">div</a>, 0 }, { <span class="stringliteral">&quot;mul&quot;</span>, <a class="code" href="namespacemmath__plus.html#acb1d3fd25d69d5ba476a5a7be04d13a1" title="Multiply.">mul</a>, 0 },
<a name="l00091"></a>00091     { <span class="stringliteral">&quot;pow&quot;</span>, pow, 0 }, { <span class="stringliteral">&quot;atan2&quot;</span>, atan2, 0 }
<a name="l00092"></a>00092   };
<a name="l00093"></a>00093 
<a name="l00095"></a><a class="code" href="namespacemmath__plus.html#adaf7c4264cf139c590a753c8be5e1973">00095</a>   <a class="code" href="structmmath__plus_1_1value__t.html" title="Value type.">value_t&lt; double &gt;</a> <a class="code" href="namespacemmath__plus.html#adaf7c4264cf139c590a753c8be5e1973" title="Default constants.">constants</a>[] =
<a name="l00096"></a>00096   {
<a name="l00097"></a>00097     { <span class="stringliteral">&quot;e&quot;</span>, 2.71828182845904523536 }, { <span class="stringliteral">&quot;log2e&quot;</span>, 1.44269504088896340736 },
<a name="l00098"></a>00098     { <span class="stringliteral">&quot;Pi&quot;</span>, 3.14159265358979323846 }
<a name="l00099"></a>00099   };
<a name="l00100"></a>00100 
<a name="l00102"></a><a class="code" href="namespacemmath__plus.html#a8f6261c06d1539ab73f11b5c4c6c9f32">00102</a>   <a class="code" href="structmmath__plus_1_1value__t.html" title="Value type.">value_t&lt; double &gt;</a> <a class="code" href="namespacemmath__plus.html#a8f6261c06d1539ab73f11b5c4c6c9f32" title="Default variables.">variables</a>[] =
<a name="l00103"></a>00103   {
<a name="l00104"></a>00104     { <span class="stringliteral">&quot;x&quot;</span>, 0.0 }, { <span class="stringliteral">&quot;y&quot;</span>, 0.0 }, { <span class="stringliteral">&quot;z&quot;</span>, 0.0 }, { <span class="stringliteral">&quot;w&quot;</span>, 0.0 }
<a name="l00105"></a>00105   };
<a name="l00106"></a>00106 
<a name="l00107"></a>00107   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00109"></a><a class="code" href="classmmath__plus_1_1invalid__assign.html">00109</a> <span class="comment"></span>  <span class="keyword">class </span><a class="code" href="classmmath__plus_1_1invalid__assign.html" title="Thrown when invalid assignment detected.">invalid_assign</a> : <span class="keyword">public</span> std::exception {
<a name="l00110"></a>00110     <span class="keyword">const</span> <span class="keywordtype">char</span> *what( ) <span class="keyword">const</span> <span class="keywordflow">throw</span>( )
<a name="l00111"></a>00111     {
<a name="l00112"></a>00112       <span class="keywordflow">return</span> <span class="stringliteral">&quot;invalid assignment&quot;</span>;
<a name="l00113"></a>00113     }
<a name="l00114"></a>00114   };
<a name="l00115"></a>00115 
<a name="l00116"></a>00116   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00121"></a>00121 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00122"></a><a class="code" href="structmmath__plus_1_1scalar__assign.html">00122</a>   <span class="keyword">struct </span><a class="code" href="structmmath__plus_1_1scalar__assign.html">scalar_assign</a> : <span class="keyword">public</span> <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt; {
<a name="l00123"></a>00123 
<a name="l00125"></a><a class="code" href="structmmath__plus_1_1scalar__assign.html#ad455fe26f1eb24f276bd9ce6d8870d75">00125</a>     <a class="code" href="structmmath__plus_1_1scalar__assign.html#ad455fe26f1eb24f276bd9ce6d8870d75" title="Constructor.">scalar_assign</a>()
<a name="l00126"></a>00126       : <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt;( <span class="stringliteral">&quot;=&quot;</span>, 2, 1, 1 )
<a name="l00127"></a>00127     {}
<a name="l00128"></a>00128 
<a name="l00130"></a><a class="code" href="structmmath__plus_1_1scalar__assign.html#a9bd23d67d22cf61e8a1b79d781fd9468">00130</a>     <span class="keywordtype">void</span> <a class="code" href="structmmath__plus_1_1scalar__assign.html#a9bd23d67d22cf61e8a1b79d781fd9468" title="Invoked when assignment function is called.">operator()</a>( <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a>&amp; rt )<span class="keyword"> const</span>
<a name="l00131"></a>00131 <span class="keyword">    </span>{
<a name="l00132"></a>00132       <span class="comment">//</span>
<a name="l00133"></a>00133       <span class="comment">// |stack| |        program           | |IP|</span>
<a name="l00134"></a>00134       <span class="comment">// -----------------------------------------</span>
<a name="l00135"></a>00135       <span class="comment">// |  0  | | load value               | | 0|</span>
<a name="l00136"></a>00136       <span class="comment">// |  1  | | load value of variable X | | 1|</span>
<a name="l00137"></a>00137       <span class="comment">// |     | | call assignment function | | 2|</span>
<a name="l00138"></a>00138       <span class="comment">//</span>
<a name="l00139"></a>00139 
<a name="l00140"></a>00140       <span class="comment">// rt.ip points to current instruction</span>
<a name="l00141"></a>00141 
<a name="l00142"></a>00142       <span class="comment">// 2 x =</span>
<a name="l00143"></a>00143       <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::prog_type</a>&amp; prog = *rt.<a class="code" href="structmmath__plus_1_1rte.html#a32feb43a350c76ce6397e52852c6a32e" title="Program.">prog_p</a>;
<a name="l00144"></a>00144       <span class="comment">// remove value of &#39;x&#39; from stack. </span>
<a name="l00145"></a>00145       rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00146"></a>00146       <span class="comment">// get pointer to load_var(&#39;x&#39;) instruction: current instruction pointed</span>
<a name="l00147"></a>00147       <span class="comment">// at by Instruction Pointer is assignment (this), load_var is the</span>
<a name="l00148"></a>00148       <span class="comment">// previous instruction i.e. IP - 1.</span>
<a name="l00149"></a>00149       <a class="code" href="structmmath__plus_1_1load__var.html" title="Loads variable value on top of std::stack.">load_var&lt; T &gt;</a>* lv_p = <span class="keyword">dynamic_cast&lt;</span> <a class="code" href="structmmath__plus_1_1load__var.html" title="Loads variable value on top of std::stack.">load_var&lt; T &gt;</a>* <span class="keyword">&gt;</span>( ptr( prog[ rt.<a class="code" href="structmmath__plus_1_1rte.html#a6ad2281ce56a5696ed175192f91da2b2">ip</a> - 1 ] ) );
<a name="l00150"></a>00150       <span class="comment">// if the previous instruction is not a load_var then assignment</span>
<a name="l00151"></a>00151       <span class="comment">// expression is wrong.</span>
<a name="l00152"></a>00152       <span class="keywordflow">if</span>( !lv_p ) <span class="keywordflow">throw</span> <a class="code" href="classmmath__plus_1_1invalid__assign.html" title="Thrown when invalid assignment detected.">invalid_assign</a>();
<a name="l00153"></a>00153       <span class="comment">// got a pointer to load_var; next: retrieve pointer to variable value</span>
<a name="l00154"></a>00154       <span class="comment">// and set it to value currently on top of stack.</span>
<a name="l00155"></a>00155       <span class="comment">// value is not removed from stack i.e. assignment returns the value</span>
<a name="l00156"></a>00156       <span class="comment">// assigned to variable.</span>
<a name="l00157"></a>00157       lv_p-&gt;<a class="code" href="structmmath__plus_1_1load__var.html#ac8c098a142a09bad79e9c1981f9eb1da" title="Pointer to value type in variable table.">val_p</a>-&gt;val = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top();
<a name="l00158"></a>00158     }
<a name="l00159"></a>00159     
<a name="l00160"></a>00160   };
<a name="l00161"></a>00161 
<a name="l00162"></a>00162   <span class="comment">//----------------------------------------------------------------------------        </span>
<a name="l00164"></a>00164 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T, <span class="keywordtype">int</span> N &gt;
<a name="l00165"></a><a class="code" href="structmmath__plus_1_1vector__assign.html">00165</a>   <span class="keyword">struct </span><a class="code" href="structmmath__plus_1_1vector__assign.html" title="Multi-dimensional assign: (x,y,z)=(1,2,3).">vector_assign</a> : <span class="keyword">public</span> <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt; {
<a name="l00166"></a>00166    
<a name="l00168"></a><a class="code" href="structmmath__plus_1_1vector__assign.html#aca93a83b6392691ea4f8a213a77e0032">00168</a>    <a class="code" href="structmmath__plus_1_1vector__assign.html#aca93a83b6392691ea4f8a213a77e0032" title="Constructor.">vector_assign</a>()
<a name="l00169"></a>00169       : <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt;( <span class="stringliteral">&quot;=&quot;</span>, 2 * N, N, N )
<a name="l00170"></a>00170     {}
<a name="l00171"></a>00171     
<a name="l00173"></a><a class="code" href="structmmath__plus_1_1vector__assign.html#affff031fa2608686ac26e1850a651578">00173</a>    <span class="keywordtype">void</span> <a class="code" href="structmmath__plus_1_1vector__assign.html#affff031fa2608686ac26e1850a651578" title="Invoked when assignment function is called.">operator()</a>( <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a>&amp; rt )<span class="keyword"> const</span>
<a name="l00174"></a>00174 <span class="keyword">   </span>{
<a name="l00175"></a>00175       <span class="comment">//</span>
<a name="l00176"></a>00176       <span class="comment">// |stack| |        program           | | IP  |</span>
<a name="l00177"></a>00177       <span class="comment">// --------------------------------------------</span>
<a name="l00178"></a>00178       <span class="comment">// |  0  | | load value               | |  0  |</span>
<a name="l00179"></a>00179       <span class="comment">// |  1  | | load value               | |  1  |</span>
<a name="l00180"></a>00180       <span class="comment">// |  .  | | load value               | |  .  |</span>
<a name="l00181"></a>00181       <span class="comment">// |  .  | | load value               | |  .  |</span>
<a name="l00182"></a>00182       <span class="comment">// |  .  | | load value               | |  .  |</span>
<a name="l00183"></a>00183       <span class="comment">// |  N  | | load value               | |  N  |</span>
<a name="l00184"></a>00184       <span class="comment">// |     | | load value of variable X1| | N+1 |</span>
<a name="l00185"></a>00185       <span class="comment">// |     | | load value of variable X2| | N+2 |</span>
<a name="l00186"></a>00186       <span class="comment">// |     | |             .            | |  .  |</span>
<a name="l00187"></a>00187       <span class="comment">// |     | |             .            | |  .  |</span>
<a name="l00188"></a>00188       <span class="comment">// |     | |             .            | |  .  |</span>
<a name="l00189"></a>00189       <span class="comment">// |     | | load value of variable Xn| | N+n |</span>
<a name="l00190"></a>00190       <span class="comment">// |     | | call assignment function | |N+n+1|</span>
<a name="l00191"></a>00191       
<a name="l00192"></a>00192       <span class="comment">// rt.ip points to current instruction</span>
<a name="l00193"></a>00193 
<a name="l00194"></a>00194       <span class="comment">// 1 2... x1 x2... =</span>
<a name="l00195"></a>00195       <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::prog_type</a>&amp; prog = *rt.<a class="code" href="structmmath__plus_1_1rte.html#a32feb43a350c76ce6397e52852c6a32e" title="Program.">prog_p</a>;
<a name="l00196"></a>00196       
<a name="l00197"></a>00197       T v[ N ];   
<a name="l00198"></a>00198       
<a name="l00199"></a>00199       <span class="comment">// remove values of variables from stack</span>
<a name="l00200"></a>00200       <span class="keywordflow">if</span>( !rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.empty() ) <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i != N &amp;&amp; !rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.empty(); ++i ) rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00201"></a>00201       
<a name="l00202"></a>00202       <span class="comment">// get values, remove values from stack and assign values to variables</span>
<a name="l00203"></a>00203       <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i != N &amp;&amp; !rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.empty(); ++i )
<a name="l00204"></a>00204       {
<a name="l00205"></a>00205          <a class="code" href="structmmath__plus_1_1load__var.html" title="Loads variable value on top of std::stack.">load_var&lt; T &gt;</a>* lv_p = <span class="keyword">dynamic_cast&lt;</span> <a class="code" href="structmmath__plus_1_1load__var.html" title="Loads variable value on top of std::stack.">load_var&lt; T &gt;</a>* <span class="keyword">&gt;</span>(
<a name="l00206"></a>00206                         ptr( prog[ rt.<a class="code" href="structmmath__plus_1_1rte.html#a6ad2281ce56a5696ed175192f91da2b2">ip</a> - ( 1 + i ) ] ) );
<a name="l00207"></a>00207          <span class="keywordflow">if</span>( !lv_p ) <span class="keywordflow">throw</span> <a class="code" href="classmmath__plus_1_1invalid__assign.html" title="Thrown when invalid assignment detected.">invalid_assign</a>();
<a name="l00208"></a>00208          v[ i ] = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00209"></a>00209          lv_p-&gt;<a class="code" href="structmmath__plus_1_1load__var.html#ac8c098a142a09bad79e9c1981f9eb1da" title="Pointer to value type in variable table.">val_p</a>-&gt;val = v[ i ];         
<a name="l00210"></a>00210       }
<a name="l00211"></a>00211       
<a name="l00212"></a>00212       <span class="comment">// push values back on stack</span>
<a name="l00213"></a>00213       <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = ( N - 1 ); i &gt;= 0; --i ) rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( v[ i ] );        
<a name="l00214"></a>00214    }
<a name="l00215"></a>00215               
<a name="l00216"></a>00216   };            
<a name="l00217"></a>00217     
<a name="l00218"></a>00218 
<a name="l00219"></a>00219   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00222"></a>00222 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00223"></a><a class="code" href="structmmath__plus_1_1dotprod3.html">00223</a>   <span class="keyword">struct </span><a class="code" href="structmmath__plus_1_1dotprod3.html">dotprod3</a> : <span class="keyword">public</span> <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt; {
<a name="l00224"></a>00224 
<a name="l00226"></a><a class="code" href="structmmath__plus_1_1dotprod3.html#a80b574c02095d13b3f9cc16bcf08a33e">00226</a>     <a class="code" href="structmmath__plus_1_1dotprod3.html#a80b574c02095d13b3f9cc16bcf08a33e" title="Constructor.">dotprod3</a>()
<a name="l00227"></a>00227       : <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt;( <span class="stringliteral">&quot;*&quot;</span>, 6, 1, 3 )
<a name="l00228"></a>00228     {}
<a name="l00229"></a>00229 
<a name="l00232"></a><a class="code" href="structmmath__plus_1_1dotprod3.html#a6c8235163f061c6bf52dec31c22ed1ba">00232</a>     <span class="keywordtype">void</span> <a class="code" href="structmmath__plus_1_1dotprod3.html#a6c8235163f061c6bf52dec31c22ed1ba">operator()</a>( <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a>&amp; rt )<span class="keyword"> const</span>
<a name="l00233"></a>00233 <span class="keyword">    </span>{
<a name="l00234"></a>00234         <span class="keyword">const</span> T z2 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00235"></a>00235         <span class="keyword">const</span> T y2 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00236"></a>00236         <span class="keyword">const</span> T x2 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00237"></a>00237         <span class="keyword">const</span> T z1 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00238"></a>00238         <span class="keyword">const</span> T y1 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00239"></a>00239         <span class="keyword">const</span> T x1 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00240"></a>00240         rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( x1*x2 + y1*y2 + z1*z2 );
<a name="l00241"></a>00241     }
<a name="l00242"></a>00242   };
<a name="l00243"></a>00243   
<a name="l00244"></a>00244   
<a name="l00245"></a>00245   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00248"></a>00248 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00249"></a><a class="code" href="structmmath__plus_1_1crossprod3.html">00249</a>   <span class="keyword">struct </span><a class="code" href="structmmath__plus_1_1crossprod3.html">crossprod3</a> : <span class="keyword">public</span> <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt; {
<a name="l00250"></a>00250 
<a name="l00252"></a><a class="code" href="structmmath__plus_1_1crossprod3.html#a486179e666cc66ad57a3710d40d41b0c">00252</a>     <a class="code" href="structmmath__plus_1_1crossprod3.html#a486179e666cc66ad57a3710d40d41b0c" title="Constructor.">crossprod3</a>()
<a name="l00253"></a>00253       : <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt;( <span class="stringliteral">&quot;cross3&quot;</span>, 6, 3, 0 ) <span class="comment">// 6 parameters in</span>
<a name="l00254"></a>00254                                              <span class="comment">// 3 values out</span>
<a name="l00255"></a>00255                                              <span class="comment">// 0 parameters on the left side       </span>
<a name="l00256"></a>00256     {}
<a name="l00257"></a>00257 
<a name="l00260"></a><a class="code" href="structmmath__plus_1_1crossprod3.html#af58dd5b03bcfbac424ef6ff99daf1ca9">00260</a>     <span class="keywordtype">void</span> <a class="code" href="structmmath__plus_1_1crossprod3.html#af58dd5b03bcfbac424ef6ff99daf1ca9">operator()</a>( <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a>&amp; rt )<span class="keyword"> const</span>
<a name="l00261"></a>00261 <span class="keyword">    </span>{
<a name="l00262"></a>00262         <span class="keyword">const</span> T z2 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00263"></a>00263         <span class="keyword">const</span> T y2 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00264"></a>00264         <span class="keyword">const</span> T x2 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00265"></a>00265         <span class="keyword">const</span> T z1 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00266"></a>00266         <span class="keyword">const</span> T y1 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00267"></a>00267         <span class="keyword">const</span> T x1 = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00268"></a>00268         rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( y1*z2 - y2*z1 );
<a name="l00269"></a>00269         rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( x2*z1 - x1*z2 );
<a name="l00270"></a>00270         rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( x1*y2 - x2*y1 );
<a name="l00271"></a>00271     }
<a name="l00272"></a>00272   };
<a name="l00273"></a>00273 
<a name="l00274"></a>00274   
<a name="l00275"></a>00275                         
<a name="l00276"></a>00276   <span class="comment">//----------------------------------------------------------------------------        </span>
<a name="l00280"></a>00280 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T, <span class="keywordtype">int</span> N &gt;
<a name="l00281"></a><a class="code" href="classmmath__plus_1_1vector__op__apply.html">00281</a>   <span class="keyword">class </span><a class="code" href="classmmath__plus_1_1vector__op__apply.html">vector_op_apply</a> : <span class="keyword">public</span> <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt; {
<a name="l00282"></a>00282     <span class="keyword">typedef</span> <a class="code" href="classmmath__plus_1_1shared__ptr.html">shared_ptr&lt; function_i&lt; T &gt;</a> &gt; <a class="code" href="classmmath__plus_1_1shared__ptr.html">FunPtr</a>;
<a name="l00283"></a>00283   <span class="keyword">private</span>:
<a name="l00284"></a>00284     <a class="code" href="classmmath__plus_1_1shared__ptr.html">FunPtr</a> fp_; ;
<a name="l00285"></a>00285   <span class="keyword">public</span>:   
<a name="l00287"></a><a class="code" href="classmmath__plus_1_1vector__op__apply.html#a00f1921633ab1da2f087833131045674">00287</a>    <a class="code" href="classmmath__plus_1_1vector__op__apply.html#a00f1921633ab1da2f087833131045674" title="Constructor vector_apply DOES own the memory by default.">vector_op_apply</a>( <a class="code" href="classmmath__plus_1_1shared__ptr.html">FunPtr</a> fp )
<a name="l00288"></a>00288       : <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt;( fp-&gt;<a class="code" href="structmmath__plus_1_1function__i.html#ad0adca0b951e615b360443280ee55bc5" title="Name.">name</a>, 2 * N, N, N ), fp_( fp )
<a name="l00289"></a>00289     {
<a name="l00290"></a>00290         <span class="keywordflow">if</span>( fp-&gt;lvalues_in != 1 || fp-&gt;rvalues_in != 1 )
<a name="l00291"></a>00291         {
<a name="l00292"></a>00292             <span class="keyword">struct </span>ex : <span class="keyword">public</span> std::exception {
<a name="l00293"></a>00293                 <span class="keyword">const</span> <span class="keywordtype">char</span>* what() <span class="keyword">const</span> <span class="keywordflow">throw</span>()
<a name="l00294"></a>00294                 {   <span class="keywordflow">return</span> <span class="stringliteral">&quot;ONLY BINARY OPERATORS SUPPORTED&quot;</span>; }         
<a name="l00295"></a>00295             };
<a name="l00296"></a>00296             <span class="keywordflow">throw</span> ex(); 
<a name="l00297"></a>00297         }
<a name="l00298"></a>00298     }
<a name="l00299"></a>00299 
<a name="l00301"></a><a class="code" href="classmmath__plus_1_1vector__op__apply.html#acd773ae139d62a20c793d3ad06c54f6f">00301</a>    <span class="keywordtype">void</span> <a class="code" href="classmmath__plus_1_1vector__op__apply.html#acd773ae139d62a20c793d3ad06c54f6f" title="Applies the R^1--&gt;R^1 function to each element.">operator()</a>( <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a>&amp; rt )<span class="keyword"> const</span>
<a name="l00302"></a>00302 <span class="keyword">   </span>{
<a name="l00303"></a>00303       T v1[ N ];
<a name="l00304"></a>00304       T v2[ N ];
<a name="l00305"></a>00305       T vo[ N ]   ;
<a name="l00306"></a>00306       <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; N; ++i )
<a name="l00307"></a>00307       {
<a name="l00308"></a>00308         v2[ i ] = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00309"></a>00309       }
<a name="l00310"></a>00310       <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; N; ++i )
<a name="l00311"></a>00311       {
<a name="l00312"></a>00312         v1[ i ] = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00313"></a>00313       }
<a name="l00314"></a>00314       <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; N; ++i )
<a name="l00315"></a>00315       {
<a name="l00316"></a>00316          rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( v1[ i ] );
<a name="l00317"></a>00317          rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( v2[ i ] );
<a name="l00318"></a>00318          ( *fp_ )( rt );
<a name="l00319"></a>00319          vo[ i ] = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();         
<a name="l00320"></a>00320       }
<a name="l00321"></a>00321           
<a name="l00322"></a>00322       <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = ( N - 1 ); i &gt;= 0; --i ) rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( vo[ i ] );       
<a name="l00323"></a>00323    }  
<a name="l00324"></a>00324                           
<a name="l00325"></a>00325   };            
<a name="l00326"></a>00326             
<a name="l00327"></a>00327 
<a name="l00328"></a>00328   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00333"></a>00333 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00334"></a><a class="code" href="classmmath__plus_1_1procedure.html">00334</a>   <span class="keyword">class </span><a class="code" href="classmmath__plus_1_1procedure.html">procedure</a> : <span class="keyword">public</span> <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt; {      
<a name="l00335"></a>00335   <span class="keyword">public</span>:
<a name="l00337"></a><a class="code" href="classmmath__plus_1_1procedure.html#a3528665220a627e360e6a041b7a07a9a">00337</a>     <span class="keyword">typedef</span> <a class="code" href="classmmath__plus_1_1shared__ptr.html">shared_ptr&lt; executor&lt; rte&lt; T &gt;</a> &gt; &gt; <a class="code" href="classmmath__plus_1_1procedure.html#a3528665220a627e360e6a041b7a07a9a" title="Pointer to executor type.">executor_ptr_type</a>;  
<a name="l00339"></a><a class="code" href="classmmath__plus_1_1procedure.html#a3308659cd3e337afefc9bec483b44beb">00339</a>     <a class="code" href="classmmath__plus_1_1procedure.html#a3308659cd3e337afefc9bec483b44beb" title="Constructor.">procedure</a>( <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1executor.html">executor</a>&lt; <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a> &gt;::prog_type&amp; prog,
<a name="l00340"></a>00340                <a class="code" href="classmmath__plus_1_1shared__ptr.html">executor_ptr_type</a> vm_p,
<a name="l00341"></a>00341                <span class="keyword">const</span> std::string&amp; <a class="code" href="structmmath__plus_1_1function__i.html#ad0adca0b951e615b360443280ee55bc5" title="Name.">name</a>,
<a name="l00342"></a>00342                <span class="keywordtype">int</span> in,
<a name="l00343"></a>00343                <span class="keywordtype">int</span> out,
<a name="l00344"></a>00344                <span class="keywordtype">int</span> lin = 0 )
<a name="l00345"></a>00345       : <a class="code" href="structmmath__plus_1_1function__i.html" title="Base interface for functions.">function_i</a>&lt; T &gt;( name, in, out, lin ),
<a name="l00346"></a>00346         vm_p_( vm_p ), proc_( prog ),
<a name="l00347"></a>00347         in_( in ), out_( out ), lin_( lin ), rin_( in - lin )
<a name="l00348"></a>00348     {
<a name="l00349"></a>00349       vm_p_-&gt;<a class="code" href="structmmath__plus_1_1executor.html#add2290176709e2152a196ea079ffc998" title="Returns const reference to instruction array.">prog</a>( &amp;proc_ );
<a name="l00350"></a>00350     }
<a name="l00351"></a>00351 
<a name="l00353"></a><a class="code" href="classmmath__plus_1_1procedure.html#aa45801d81b900a808177f6e94133b88a">00353</a>     <span class="keywordtype">void</span> <a class="code" href="classmmath__plus_1_1procedure.html#aa45801d81b900a808177f6e94133b88a" title="invoked when function called.">operator()</a>( <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a>&amp; rt )<span class="keyword"> const</span>
<a name="l00354"></a>00354 <span class="keyword">    </span>{
<a name="l00355"></a>00355       <span class="comment">// get reference to local run-time environment</span>
<a name="l00356"></a>00356       <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a>&amp; r = vm_p_-&gt;<a class="code" href="structmmath__plus_1_1executor.html#ac8d2b2cd246b47cd83068912cc3f71cc" title="Returns const reference run-time environment.">rte</a>();
<a name="l00357"></a>00357 
<a name="l00358"></a>00358       <span class="comment">// read values from stack</span>
<a name="l00359"></a>00359       <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type::iterator</a> vi = r.<a class="code" href="structmmath__plus_1_1rte.html#aac907ba3f4d8ecd5b00e4d4314ccb39d" title="Variables.">var_tab</a>.begin();
<a name="l00360"></a>00360       <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type::iterator</a> end = r.<a class="code" href="structmmath__plus_1_1rte.html#aac907ba3f4d8ecd5b00e4d4314ccb39d" title="Variables.">var_tab</a>.end();
<a name="l00361"></a>00361       
<a name="l00362"></a>00362       <span class="comment">// copy values from external run-time environment into local variables</span>
<a name="l00363"></a>00363       <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; ( i &lt; in_ ) &amp;&amp; ( vi != end ); ++i, ++vi )
<a name="l00364"></a>00364       {
<a name="l00365"></a>00365         T v = rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top(); rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00366"></a>00366         (*vi)-&gt;val = v;
<a name="l00367"></a>00367       }
<a name="l00368"></a>00368 
<a name="l00369"></a>00369       <span class="comment">// execute new procedure</span>
<a name="l00370"></a>00370       vm_p_-&gt;<a class="code" href="structmmath__plus_1_1executor.html#afe9a1db5e7a4014e01525c1f7fa6d2ce">run</a>();
<a name="l00371"></a>00371 
<a name="l00372"></a>00372       <span class="comment">// std::copy values onto stack</span>
<a name="l00373"></a>00373       <span class="keywordflow">for</span>( <span class="keywordtype">int</span> o = 0; o &lt; out_; ++o )
<a name="l00374"></a>00374       {
<a name="l00375"></a>00375         rt.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.push( r.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.top() );
<a name="l00376"></a>00376         r.<a class="code" href="structmmath__plus_1_1rte.html#af8e662ff0bbd5b48c81bc125c53791bf">stack</a>.pop();
<a name="l00377"></a>00377       }
<a name="l00378"></a>00378     }
<a name="l00379"></a>00379     
<a name="l00380"></a>00380   <span class="keyword">private</span>:
<a name="l00381"></a>00381     <a class="code" href="classmmath__plus_1_1procedure.html#a3528665220a627e360e6a041b7a07a9a" title="Pointer to executor type.">executor_ptr_type</a> vm_p_;
<a name="l00382"></a>00382     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::prog_type</a> proc_;
<a name="l00383"></a>00383     <span class="keywordtype">int</span> in_;
<a name="l00384"></a>00384     <span class="keywordtype">int</span> out_;
<a name="l00385"></a>00385     <span class="keywordtype">int</span> lin_;
<a name="l00386"></a>00386     <span class="keywordtype">int</span> rin_;
<a name="l00387"></a>00387   };
<a name="l00388"></a>00388 
<a name="l00389"></a>00389 
<a name="l00390"></a>00390   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00395"></a>00395 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00396"></a><a class="code" href="namespacemmath__plus.html#ac13b4673009796bf8eac7974f1ca0f65">00396</a>   <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type</a> <a class="code" href="namespacemmath__plus.html#ac13b4673009796bf8eac7974f1ca0f65">generate_unary_functions</a>(
<a name="l00397"></a>00397                                               <a class="code" href="structmmath__plus_1_1unary__function__t.html" title="Unary function object.">unary_function_t&lt; T &gt;</a> functions[],
<a name="l00398"></a>00398                                               <span class="keywordtype">size_t</span> n )
<a name="l00399"></a>00399   {
<a name="l00400"></a>00400     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type</a> fun_tab( n );
<a name="l00401"></a>00401     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type::iterator</a> i;
<a name="l00402"></a>00402     <span class="keywordtype">size_t</span> j;
<a name="l00403"></a>00403     <span class="keywordflow">for</span>( i = fun_tab.begin(), j = 0; i != fun_tab.end(); ++i, ++j )
<a name="l00404"></a>00404     {
<a name="l00405"></a>00405       <a class="code" href="structmmath__plus_1_1unary__function.html">unary_function&lt; T &gt;</a> uf( functions[ j ].f );
<a name="l00406"></a>00406       <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type::value_type</a> pointer_type;
<a name="l00407"></a>00407       *i = pointer_type( <span class="keyword">new</span> <span class="keyword">function</span>&lt; <a class="code" href="structmmath__plus_1_1unary__function.html">unary_function&lt; T &gt;</a>, T &gt;
<a name="l00408"></a>00408                                         ( uf , functions[ j ].name,
<a name="l00409"></a>00409                                           1, 1,
<a name="l00410"></a>00410                                           functions[ j ].left_params ) );
<a name="l00411"></a>00411     }
<a name="l00412"></a>00412 
<a name="l00413"></a>00413     <span class="keywordflow">return</span> fun_tab;
<a name="l00414"></a>00414   }
<a name="l00415"></a>00415 
<a name="l00416"></a>00416   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00421"></a>00421 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00422"></a><a class="code" href="namespacemmath__plus.html#a5e6b5dfc31e783ea28aa0e244c6535b4">00422</a>   <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type</a> <a class="code" href="namespacemmath__plus.html#a5e6b5dfc31e783ea28aa0e244c6535b4">generate_binary_functions</a>(
<a name="l00423"></a>00423                                               <a class="code" href="structmmath__plus_1_1binary__function__t.html" title="Binary function object.">binary_function_t&lt; T &gt;</a> functions[],
<a name="l00424"></a>00424                                               <span class="keywordtype">size_t</span> n )
<a name="l00425"></a>00425   {
<a name="l00426"></a>00426     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type</a> fun_tab( n );
<a name="l00427"></a>00427     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type::iterator</a> i;
<a name="l00428"></a>00428     <span class="keywordtype">size_t</span> j;
<a name="l00429"></a>00429     <span class="keywordflow">for</span>( i = fun_tab.begin(), j = 0; i != fun_tab.end(); ++i, ++j )
<a name="l00430"></a>00430     {
<a name="l00431"></a>00431       <a class="code" href="structmmath__plus_1_1binary__function.html">binary_function&lt; T &gt;</a> bf( functions[ j ].f );
<a name="l00432"></a>00432       <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type::value_type</a> pointer_type;
<a name="l00433"></a>00433       *i = pointer_type( <span class="keyword">new</span> <span class="keyword">function</span>&lt; <a class="code" href="structmmath__plus_1_1binary__function.html">binary_function&lt; T &gt;</a>, T &gt;(
<a name="l00434"></a>00434                                                 bf, functions[ j ].name,
<a name="l00435"></a>00435                                                 2, 1,
<a name="l00436"></a>00436                                                 functions[ j ].left_params ) );
<a name="l00437"></a>00437     }
<a name="l00438"></a>00438 
<a name="l00439"></a>00439     <span class="keywordflow">return</span> fun_tab;
<a name="l00440"></a>00440   }
<a name="l00441"></a>00441 
<a name="l00442"></a>00442   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00447"></a>00447 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00448"></a><a class="code" href="namespacemmath__plus.html#aa087b8005133758dc2d11a6c78db9e3c">00448</a>   <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type</a> <a class="code" href="namespacemmath__plus.html#aa087b8005133758dc2d11a6c78db9e3c">generate_variables</a>( <a class="code" href="structmmath__plus_1_1value__t.html" title="Value type.">value_t&lt; T &gt;</a> vars[], <span class="keywordtype">size_t</span> n )
<a name="l00449"></a>00449   {
<a name="l00450"></a>00450     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type</a> var_tab( n );
<a name="l00451"></a>00451     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type::iterator</a> i;
<a name="l00452"></a>00452     <span class="keywordtype">size_t</span> j;
<a name="l00453"></a>00453     <span class="keywordflow">for</span>( i = var_tab.begin(), j = 0; i != var_tab.end(); ++i, ++j )
<a name="l00454"></a>00454     {
<a name="l00455"></a>00455       <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type::value_type</a> pointer_type;   
<a name="l00456"></a>00456       *i = pointer_type( <span class="keyword">new</span> <a class="code" href="structmmath__plus_1_1value.html" title="Holds information about value types.">value&lt; T &gt;</a>( vars[ j ].name, vars[ j ].val ) );
<a name="l00457"></a>00457     }
<a name="l00458"></a>00458 
<a name="l00459"></a>00459     <span class="keywordflow">return</span> var_tab;
<a name="l00460"></a>00460   }
<a name="l00461"></a>00461 
<a name="l00462"></a>00462   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00467"></a>00467 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00468"></a><a class="code" href="namespacemmath__plus.html#a80c75759a2252966e48d594440175c3b">00468</a>   <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type</a> <a class="code" href="namespacemmath__plus.html#a80c75759a2252966e48d594440175c3b">generate_constants</a>( <a class="code" href="structmmath__plus_1_1value__t.html" title="Value type.">value_t&lt; T &gt;</a> <a class="code" href="namespacemmath__plus.html#adaf7c4264cf139c590a753c8be5e1973" title="Default constants.">constants</a>[],
<a name="l00469"></a>00469                                                <span class="keywordtype">size_t</span> n )
<a name="l00470"></a>00470   {
<a name="l00471"></a>00471     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type</a> const_tab( n );
<a name="l00472"></a>00472     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type::iterator</a> i;
<a name="l00473"></a>00473     <span class="keywordtype">size_t</span> j;
<a name="l00474"></a>00474     <span class="keywordflow">for</span>( i = const_tab.begin(), j = 0; i != const_tab.end(); ++i, ++j )
<a name="l00475"></a>00475     {
<a name="l00476"></a>00476       <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type::value_type</a> pointer_type;
<a name="l00477"></a>00477       *i = pointer_type( <span class="keyword">new</span> <a class="code" href="structmmath__plus_1_1value.html" title="Holds information about value types.">value&lt; T &gt;</a>(
<a name="l00478"></a>00478                             constants[ j ].name, constants[ j ].val ) );
<a name="l00479"></a>00479     }
<a name="l00480"></a>00480 
<a name="l00481"></a>00481     <span class="keywordflow">return</span> const_tab;
<a name="l00482"></a>00482   }
<a name="l00483"></a>00483 
<a name="l00484"></a>00484   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00487"></a>00487 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00488"></a><a class="code" href="namespacemmath__plus.html#a1777cd6e9408cbc5d33c92838fd05cf7">00488</a>   <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type</a> <a class="code" href="namespacemmath__plus.html#a1777cd6e9408cbc5d33c92838fd05cf7">generate_def_functions</a>()
<a name="l00489"></a>00489   {
<a name="l00490"></a>00490     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type</a> ft =
<a name="l00491"></a>00491       generate_unary_functions&lt; T &gt;(
<a name="l00492"></a>00492          <a class="code" href="namespacemmath__plus.html#a00f953529e148a6c2433d0c0bebd58d1" title="Default unary function table.">unary_functions</a>,
<a name="l00493"></a>00493          <span class="keyword">sizeof</span>( <a class="code" href="namespacemmath__plus.html#a00f953529e148a6c2433d0c0bebd58d1" title="Default unary function table.">unary_functions</a> ) / <span class="keyword">sizeof</span>( unary_functions[ 0 ] ) );
<a name="l00494"></a>00494 
<a name="l00495"></a>00495     <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type</a> bf =
<a name="l00496"></a>00496       generate_binary_functions&lt; T &gt;(
<a name="l00497"></a>00497          <a class="code" href="namespacemmath__plus.html#a05eb445d8512ec21854003ae1fb126f1" title="Default binary function table.">binary_functions</a>,
<a name="l00498"></a>00498          <span class="keyword">sizeof</span>( <a class="code" href="namespacemmath__plus.html#a05eb445d8512ec21854003ae1fb126f1" title="Default binary function table.">binary_functions</a> ) / <span class="keyword">sizeof</span>( binary_functions[ 0 ] ) );
<a name="l00499"></a>00499 
<a name="l00500"></a>00500     std::copy( bf.begin(), bf.end(), std::back_inserter( ft ) );
<a name="l00501"></a>00501 
<a name="l00502"></a>00502     <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::fun_p_tab_type::value_type</a> pointer_type;
<a name="l00503"></a>00503     
<a name="l00504"></a>00504     ft.push_back( pointer_type( <span class="keyword">new</span> <a class="code" href="structmmath__plus_1_1vector__assign.html" title="Multi-dimensional assign: (x,y,z)=(1,2,3).">vector_assign&lt; double, 4 &gt;</a>() ) );
<a name="l00505"></a>00505     ft.push_back( pointer_type( <span class="keyword">new</span> <a class="code" href="structmmath__plus_1_1vector__assign.html" title="Multi-dimensional assign: (x,y,z)=(1,2,3).">vector_assign&lt; double, 3 &gt;</a>() ) );
<a name="l00506"></a>00506     ft.push_back( pointer_type( <span class="keyword">new</span> <a class="code" href="structmmath__plus_1_1vector__assign.html" title="Multi-dimensional assign: (x,y,z)=(1,2,3).">vector_assign&lt; double, 2 &gt;</a>() ) );
<a name="l00507"></a>00507     ft.push_back( pointer_type( <span class="keyword">new</span> <a class="code" href="structmmath__plus_1_1crossprod3.html">crossprod3&lt; double &gt;</a>() ) );
<a name="l00508"></a>00508     
<a name="l00509"></a>00509     ft.push_back( pointer_type( <span class="keyword">new</span> <a class="code" href="structmmath__plus_1_1dotprod3.html">dotprod3&lt; double &gt;</a>() ) );
<a name="l00510"></a>00510     
<a name="l00511"></a>00511     <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <span class="keyword">sizeof</span>( <a class="code" href="namespacemmath__plus.html#a05eb445d8512ec21854003ae1fb126f1" title="Default binary function table.">binary_functions</a> ) / <span class="keyword">sizeof</span>( binary_functions[ 0 ] ); ++i )
<a name="l00512"></a>00512     {
<a name="l00513"></a>00513         <span class="keywordflow">if</span>( binary_functions[ i ].left_params == 1 )
<a name="l00514"></a>00514         {
<a name="l00515"></a>00515             <a class="code" href="structmmath__plus_1_1binary__function.html">binary_function&lt; T &gt;</a> f( binary_functions[ i ].f );
<a name="l00516"></a>00516             pointer_type f3d( <span class="keyword">new</span> <span class="keyword">function</span>&lt; <a class="code" href="structmmath__plus_1_1binary__function.html">binary_function&lt; T &gt;</a>, T &gt;(
<a name="l00517"></a>00517                                                     f, binary_functions[ i ].name,
<a name="l00518"></a>00518                                                     2, 1,
<a name="l00519"></a>00519                                                     binary_functions[ i ].left_params ) );
<a name="l00520"></a>00520             ft.push_back( pointer_type( <span class="keyword">new</span> <a class="code" href="classmmath__plus_1_1vector__op__apply.html">vector_op_apply&lt; double, 3 &gt;</a>( f3d ) ) );
<a name="l00521"></a>00521         }
<a name="l00522"></a>00522     }
<a name="l00523"></a>00523     
<a name="l00524"></a>00524     ft.push_back( pointer_type( <span class="keyword">new</span> <a class="code" href="structmmath__plus_1_1scalar__assign.html">scalar_assign&lt; double &gt;</a>() ) );
<a name="l00525"></a>00525     
<a name="l00526"></a>00526     <span class="keywordflow">return</span> ft;
<a name="l00527"></a>00527   }
<a name="l00528"></a>00528 
<a name="l00529"></a>00529   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00532"></a>00532 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00533"></a><a class="code" href="namespacemmath__plus.html#a89ba8df670d49bcfafa8d05541d689c2">00533</a>   <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type</a> <a class="code" href="namespacemmath__plus.html#a89ba8df670d49bcfafa8d05541d689c2">generate_def_constants</a>()
<a name="l00534"></a>00534   {
<a name="l00535"></a>00535     <span class="keyword">const</span> <span class="keywordtype">size_t</span> cs = <span class="keyword">sizeof</span>( <a class="code" href="namespacemmath__plus.html#adaf7c4264cf139c590a753c8be5e1973" title="Default constants.">constants</a> ) / <span class="keyword">sizeof</span>( <a class="code" href="namespacemmath__plus.html#adaf7c4264cf139c590a753c8be5e1973" title="Default constants.">constants</a>[ 0 ] );
<a name="l00536"></a>00536     <span class="keywordflow">return</span> generate_constants&lt; T &gt;( <a class="code" href="namespacemmath__plus.html#adaf7c4264cf139c590a753c8be5e1973" title="Default constants.">constants</a>, cs );
<a name="l00537"></a>00537   }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00542"></a>00542 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00543"></a><a class="code" href="namespacemmath__plus.html#a32745b3bf16cea007ee121a697a108df">00543</a>   <span class="keyword">typename</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;::val_p_tab_type</a> <a class="code" href="namespacemmath__plus.html#a32745b3bf16cea007ee121a697a108df">generate_def_variables</a>()
<a name="l00544"></a>00544   {
<a name="l00545"></a>00545     <span class="keyword">const</span> <span class="keywordtype">size_t</span> vs = <span class="keyword">sizeof</span>( <a class="code" href="namespacemmath__plus.html#a8f6261c06d1539ab73f11b5c4c6c9f32" title="Default variables.">variables</a> ) / <span class="keyword">sizeof</span>( <a class="code" href="namespacemmath__plus.html#a8f6261c06d1539ab73f11b5c4c6c9f32" title="Default variables.">variables</a>[ 0 ] );
<a name="l00546"></a>00546     <span class="keywordflow">return</span> generate_variables&lt; T &gt;( <a class="code" href="namespacemmath__plus.html#a8f6261c06d1539ab73f11b5c4c6c9f32" title="Default variables.">variables</a>, vs );
<a name="l00547"></a>00547   }
<a name="l00548"></a>00548 
<a name="l00549"></a>00549   <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00552"></a>00552 <span class="comment"></span>  <span class="keyword">template</span> &lt; <span class="keyword">class</span> T &gt;
<a name="l00553"></a><a class="code" href="namespacemmath__plus.html#a9e79c9144e6c581986a97dc76e1753ea">00553</a>   <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a> <a class="code" href="namespacemmath__plus.html#a9e79c9144e6c581986a97dc76e1753ea">generate_default_rte</a>()
<a name="l00554"></a>00554   {
<a name="l00555"></a>00555 
<a name="l00556"></a>00556     <span class="keywordflow">return</span> <a class="code" href="structmmath__plus_1_1rte.html">rte&lt; T &gt;</a>( generate_def_functions&lt; T &gt;(),
<a name="l00557"></a>00557                      generate_def_variables&lt; T &gt;(),
<a name="l00558"></a>00558                      generate_def_constants&lt; T &gt;() );
<a name="l00559"></a>00559   }
<a name="l00560"></a>00560 
<a name="l00561"></a>00561   <span class="comment">//============================================================================</span>
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 } <span class="comment">// namespace mmath_plus</span>
<a name="l00564"></a>00564 
<a name="l00565"></a>00565 <span class="comment">//==============================================================================</span>
<a name="l00566"></a>00566 <span class="preprocessor">#ifdef MMP_DEBUG_MEMORY</span>
<a name="l00567"></a>00567 <span class="preprocessor"></span><span class="preprocessor">#undef new</span>
<a name="l00568"></a>00568 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00569"></a>00569 <span class="preprocessor"></span>
<a name="l00570"></a>00570 <span class="preprocessor">#endif // DEF_RTE_H__</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<p>
<hr/>
<em><a href="http://cyberhipster.net/projects/micromath/">MicroMath+@cyberhipster.net</a></em>
</p>
<!--&copy;-->
